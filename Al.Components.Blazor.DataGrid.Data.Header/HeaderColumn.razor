@inherits HandRenderComponent
@implements IResizeComponent
@implements IDisposable

<th @ref=Element
    class="@Class">
    <div class="column-header-inner">
        <div class="@ContentSortClass"
             @onclick=ClickSortHandler>
            <div class="column-header-content">
                @if (ColumnNode.Item.HeaderComponentTypeName != null)
                {
                    <DynamicComponent Type=headerComponentType
                                  Parameters=headerComponentParameters />
                }
                else
                {
                    @(ColumnNode.Item.Title ?? ColumnNode.Item.UniqueName)
                }
            </div>
            @if (ColumnNode.Item.Sortable && ColumnNode.Item.Sort != null)
            {
                <span class="@SortClass">
                    @{
                        var sortIndex = DataGridModel.Columns.Sorts.Single(x => x.Item.UniqueName == ColumnNode.Item.UniqueName).Index + 1;
                    }
                    @if (ColumnNode.Item.Sort == SortDirection.Ascending)
                    {
                        <span><sub>@sortIndex</sub>&#8593;</span>
                    }
                    else if (ColumnNode.Item.Sort == SortDirection.Descending)
                    {
                        <span><sub>@sortIndex</sub>&#8595;</span>
                    }
                </span>
            }
        </div>
        <div class="resizer"
             @onmousedown="x => ResizeHelper.OnMouseDownResizeHandler(x)">
            &nbsp;
        </div>
    </div>
</th>